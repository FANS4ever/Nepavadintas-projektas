@model Gear.ViewModels.CountryViewModel



<h2>Edit Profile</h2>

<form method="post" class="col-6 mx-auto mt-2">

    <div class="col">
        <label>Username</label>
        <input name="username" type="text" class="form-control" value="@Model.user.Username" />
    </div>
    <div class="col">
        <label>Email</label>
        <input name="email" type="email" class="form-control" value="@Model.user.Email" />
    </div>
    <div class="col">
        <label>Firstname</label>
        <input name="name" type="text" class="form-control" value="@Model.user.Name" />
    </div>
    <div class="col">
        <label>Surename</label>
        <input name="surename" type="text" class="form-control" value="@Model.user.Surname" />
    </div>
    <div class="col">
        <label>Birthday</label>
        <input name="birthday" type="date" class="form-control" value="@Model.user.Birthday"  required/>
    </div>

    <div class="col">
        <label>Password</label>
        <input id="password" name="password" type="password" class="form-control">
    </div>
    <div class="col">
        <label>Confirm password</label>
        <input id="confirm_password" name="confirmPassword" type="password" class="form-control" />
    </div>


    <div class="form-group">
        <label>Country</label>
        <select name="country" class="form-control mw-100">
            <option value="@Model.user.Country_Code">Select your country</option>
            @foreach (var item in Model.Countries)
            {
                <option value="@item.Code">@item.Name</option>
            }
        </select>
    </div>
    <button type="submit" name="edit" class="btn btn-primary w-100" style="margin-bottom: 20px">Edit</button>
    @Html.ActionLink("Remove", "Remove", "Profile", null, new { @class = "btn btn-primary w-100" })
    
</form>

<script>
    var password = document.getElementById("password")
        , confirm_password = document.getElementById("confirm_password");

    function validatePassword() {
        if (password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
</script>